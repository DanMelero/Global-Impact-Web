@model DoacaoItem

@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor

@{
    ViewData["title"] = "Nova Doação";
}

<script src="~/js/items-list.js"></script>

@section Links{
    <div class="navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse">
        <ul class="navbar-nav flex-grow-1 d-flex justify-content-end mr-5">
            <li class="nav-item">
                <a class="nav-link text-dark another-page" style="font-size:22px" asp-controller="Home" asp-action="Index">Página inicial</a>
            </li>
            <li class="nav-item">
                <a class="nav-link current-page" style="font-size:22px; color: var(--main-red); font-weight: bold" asp-controller="doacao" asp-action="cadastrar">Doar Alimento</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark another-page" style="font-size:22px" asp-controller="Ong" asp-action="Index">ONGs</a>
            </li>
        </ul>
    </div>
}

<div class="b-radius box-shadow h-100 w-100 d-flex">
    <div class="h-100 col-8">
        <div class="d-flex justify-content-between align-items-center">
            <h3 class="title m-5" style="height: 10%">@ViewData["title"]</h3>

            <form class="d-flex col-6" asp-action="cadastrar" asp-controller="doacao">
                <input name="pesquisa" class="form-control" id="pesquisa" placeholder="Procurar ong por endereço" style="border-radius: 10px 0 0 10px;" />
                <button type="submit" class="btn btn-sm p-0 col-3" style="background-color:  var(--light-red); border-radius: 0 10px 10px 0;">
                    <span class="material-icons text-white">
                        search
                    </span>
                </button>
            </form>
        </div>
        <div class="ml-4 pre-scrollable" style="height: 55%">
            <div class="d-flex flex-wrap">
                @foreach (var item in ViewBag.itens)
                {
                    <div class="box-shadow b-radius m-2 item-card" style="width: 45%;">
                        <div class="d-flex justify-content-between">
                            <h6 class="paragraph m-3">@item.Nome</h6>
                            <input onclick="adicionar()" value="@item.Nome" type="checkbox" class="my-auto mr-3 itens" />
                        </div>
                        <div class="d-flex">
                            <p class="col-4 mt-4" style="font-size: 1rem">Quantidade</p>
                            <input class="col-4 mt-4 form-control" />
                            <div class="d-flex flex-column col-4 mb-4 align-items-center">
                                <label style="font-size: .8rem;">un/Kg/L</label>
                                <select class="col-8 form-control">
                                    <option disabled class="form-control">--Selecione uma unidade de medida--</option>
                                </select>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
    <div class="col-3 box-shadow b-radius m-auto" style="background-color: var(--light-grey); height: 80%; margin-top: 5%">
        <h5 class="text-danger title d-flex justify-content-center mt-3">Itens a doar</h5>
        <div style="min-height: 60%">
            <ul id="lista">

            </ul>
        </div>
        <div class="d-flex justify-content-end">
            @if (HttpContextAccessor.HttpContext.Session.Get("EstabSession") != null)
            {
                <form asp-action="EscolherOng">
                    <button class="px-4 py-2 text-light btn-login btn" style="background-color: var(--light-red);
                          border-radius: 10px; font-size: 14px" type="submit">
                        Selecionar destino →
                    </button>
                </form>
            }
            else
            {
                <p class="px-4 py-2 text-dark btn-login btn" style="background-color: var(--medium-grey);
                      border-radius: 10px; font-size: 14px" title="Faça login para habilitar essa funcionalidade">
                    Selecionar destino →
                </p>
            }
        </div>
    </div>
</div>
